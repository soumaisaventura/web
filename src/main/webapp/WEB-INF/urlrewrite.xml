<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite
    PUBLIC "-//tuckey.org//DTD UrlRewrite 4.0//EN"
    "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">
<urlrewrite>

	<!--
	<rule>
		<from>(.+)\.html</from>
		<set type="status">404</set>
		<to>null</to>
	</rule>
	-->

	<rule>
		<from>^/$</from>
		<to type="permanent-redirect">%{context-path}/home</to>
	</rule>

	<!-- Experimentos -->
	<rule>
		<from>^/map$</from>
		<to>/map.jsf</to>
	</rule>
	
	<!-- Novo -->
	<rule>
		<from>^/evento/([\w\d_\-/]+)/painel/inscricoes$</from>
		<to>/evento-painel-inscricoes.jsf?evento_id=$1</to>
	</rule>
	<rule>
		<from>^/evento/([\w\d_\-/]+)/painel$</from>
		<to>/evento-painel.jsf?evento_id=$1</to>
	</rule>
	<rule>
		<from>^/evento/([\w\d_\-/]+)/([\w\d\-_]+)/inscricao$</from>
		<to>/evento-prova-inscricao.jsf?evento_id=$1&amp;prova_id=$2</to>
	</rule>
	<rule>
		<from>^/evento/([\w\d_\-/]+)/banner.png$</from>
		<to>/api/event/$1/banner</to>
	</rule>
	<rule>
		<from>^/evento/([\w\d_\-/]+)$</from>
		<to>/evento.jsf?evento_id=$1</to>
	</rule>
	<rule>
		<from>^/usuario/(\d+)/foto.jpg$</from>
		<to>/api/user/profile/$1/picture</to>
	</rule>
	<rule>
		<from>^/usuario/(\d+)/minifoto.jpg$</from>
		<to>/api/user/profile/$1/thumbnail</to>
	</rule>
	
	<!-- Antigo -->
	<rule>
		<from>^/teste$</from>
		<to>/teste.jsf</to>
	</rule>

	<rule>
		<from>^/inicio$</from>
		<to>/home.jsf</to>
	</rule>
	<rule>
		<from>^/home$</from>
		<to>/home.jsf</to>
	</rule>

	<rule>
		<from>^/login$</from>
		<to>/login.jsf</to>
	</rule>

	<rule>
		<from>^/registro$</from>
		<to>/signup.jsf</to>
	</rule>
	<rule>
		<from>^/registre-se$</from>
		<to type="permanent-redirect">%{context-path}/registro</to>
	</rule>
	<rule>
		<from>^/signup$</from>
		<to type="permanent-redirect">%{context-path}/registro</to>
	</rule>

	<rule>
		<from>^/senha/recuperacao$</from>
		<to>/password-recovery.jsf</to>
	</rule>
	<rule>
		<from>^/recupera-senha$</from>
		<to type="permanent-redirect">%{context-path}/senha/recuperacao</to>
	</rule>
	<rule>
		<from>^/password/recovery$</from>
		<to type="permanent-redirect">%{context-path}/senha/recuperacao</to>
	</rule>

	<rule>
		<from>^/senha/redefinicao$</from>
		<to>/password-reset.jsf</to>
	</rule>
	<rule>
		<from>^/password/reset$</from>
		<to type="permanent-redirect" qsappend="true">%{context-path}/senha/redefinicao?</to>
	</rule>

	<rule>
		<from>^/atleta/ativacao$</from>
		<to>/user-activation.jsf</to>
	</rule>
	<rule>
		<from>^/user/activation$</from>
		<to type="permanent-redirect" qsappend="true">%{context-path}/atleta/ativacao?</to>
	</rule>

	<rule>
		<from>^/atleta/pessoal$</from>
		<to>/atleta-pessoal.jsf</to>
	</rule>
	<rule>
		<from>^/user/profile$</from>
		<to type="permanent-redirect">%{context-path}/atleta/pessoal</to>
	</rule>

	<rule>
		<from>^/atleta/saude$</from>
		<to>/atleta-saude.jsf</to>
	</rule>
	<rule>
		<from>^/user/health$</from>
		<to type="permanent-redirect">%{context-path}/atleta/saude</to>
	</rule>

	<rule>
		<from>^/atleta/inscricoes$</from>
		<to>/atleta-inscricoes.jsf</to>
	</rule>
	<rule>
		<from>^/minhas-inscricoes$</from>
		<to type="permanent-redirect">%{context-path}/atleta/inscricoes</to>
	</rule>
	<rule>
		<from>^/registration/list$</from>
		<to type="permanent-redirect">%{context-path}/atleta/inscricoes</to>
	</rule>

	<!--
	<rule>
		<from>^/registration/(\d+)/public$</from>
		<to>/registration-public.jsf?registration=$1</to>
	</rule>
	-->

	<rule>
		<from>^/inscricao/(\d+)$</from>
		<to>/inscricao.jsf?id=$1</to>
	</rule>
	<rule>
		<from>^/registration/(\d+)$</from>
		<to type="permanent-redirect">%{context-path}/inscricao/$1</to>
	</rule>

	<rule>
		<from>^/calendario/(\d+)$</from>
		<to>/calendario.jsf?ano=$1</to>
	</rule>
	<rule>
		<from>^/race/next$</from>
		<to type="permanent-redirect">%{context-path}/calendario/2015</to>
	</rule>
	<rule>
		<from>^/provas$</from>
		<to type="permanent-redirect">%{context-path}/calendario/2015</to>
	</rule>

	<rule>
		<from>^/prova/(\d+)/painel$</from>
		<to>/prova-painel.jsf?id=$1</to>
	</rule>

	<rule>
		<from>^/prova/(\d+)/painel/inscricoes$</from>
		<to>/prova-painel-inscricoes.jsf?race=$1</to>
	</rule>
	<rule>
		<from>^/race/(\d+)/registration/list$</from>
		<to type="permanent-redirect">%{context-path}/prova/$1/painel/inscricoes</to>
	</rule>

	<rule>
		<from>^/prova/(\d+)/inscricao$</from>
		<to>/prova-inscricao.jsf?id=$1</to>
	</rule>
	<rule>
		<from>^/race/(\d+)/registration$</from>
		<to type="permanent-redirect">%{context-path}/prova/$1/inscricao</to>
	</rule>

	<rule>
		<from>^/prova/(\d+)$</from>
		<to>/prova.jsf?id=$1</to>
	</rule>
	<rule>
		<from>^/race/(\d+)$</from>
		<to type="permanent-redirect">%{context-path}/prova/$1</to>
	</rule>

	<rule>
		<from>^/close$</from>
		<to>/close.html</to>
	</rule>

	<!-- V2 Init -->
	<rule>
		<from>^/_v2$</from>
		<to>/v2/index.jsf</to>
	</rule>

	<rule>
		<from>^/_v2/registro$</from>
		<to>/v2/registro.jsf</to>
	</rule>

<!-- 	<rule> -->
<!-- 		<from>^/v2/login$</from> -->
<!-- 		<to>/v2/login.jsf</to> -->
<!-- 	</rule> -->

<!-- 	<rule> -->
<!-- 		<from>^/v2/recupera-senha$</from> -->
<!-- 		<to>/v2/senha-recuperacao.jsf</to> -->
<!-- 	</rule> -->

<!-- 	<rule> -->
<!-- 		<from>^/v2/registre-se$</from> -->
<!-- 		<to>/v2/registro.jsf</to> -->
<!-- 	</rule> -->

<!-- 	<rule> -->
<!-- 		<from>^/v2/calendario/(\d+)$</from> -->
<!-- 		<to>/v2/calendario.jsf?ano=$1</to> -->
<!-- 	</rule> -->
<!-- 	<rule> -->
<!-- 		<from>^/v2/race/next$</from> -->
<!-- 		<to type="permanent-redirect">/v2/calendario/2015</to> -->
<!-- 	</rule> -->
<!-- 	<rule> -->
<!-- 		<from>^/v2/provas$</from> -->
<!-- 		<to type="permanent-redirect">/v2/calendario/2015</to> -->
<!-- 	</rule> -->
	<!-- V2 End -->

	<rule>
		<from>^/(.+)/$</from>
		<to type="permanent-redirect">%{context-path}/$1</to>
	</rule>
		
	<!--
	<rule>
		<from>^/(.+^/)/$</from>
		<to type="permanent-redirect">%{context-path}/$1/</to>
	</rule>
	-->

</urlrewrite>
