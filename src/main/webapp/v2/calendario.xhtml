<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="/template/main.xhtml">

	<ui:define name="meta">
		<!-- Mobile viewport optimization: Required!! -->
		<meta name="HandheldFriendly" content="True" />
		<meta name="MobileOptimized" content="0" />
		<meta name="viewport" content="width=device-width" />
	</ui:define>

	<ui:define name="css">
		<style>
img {
	max-width: 100%;
}

.lt-ie8 img {
	-ms-interpolation-mode: bicubic;
}

.lt-ie7 img {
	width: 100%;
}

.no-js img.responsive, .no-js img.main-col-images {
	display: none;
}

img.responsive, img.main-col-images {
	visibility: hidden;
	min-height: 100px;
}

.box {
	position: relative;
	width: 100%;
	overflow: hidden;
}

.corner {
	overflow: hidden;
	position: absolute;
	right: -3.5em;
	top: 2.5em;
	-moz-transform: rotate(45deg);
	-webkit-transform: rotate(45deg);
	transform: rotate(45deg);
}

.corner span {
	color: #fff;
	display: block;
	font-size: .9em;
	font-weight: bold;
	padding: 0.5em 3em;
	text-align: center;
	text-decoration: none;
	text-shadow: 1px 1px 1px #000;
}

.open {
	background-color: #055C27;
}

.closed {
	background-color: #950F09;
}

.end {
	opacity: 0.4;
	filter: alpha(opacity = 40);
}
</style>
	</ui:define>

	<ui:define name="lib">
		<script src="#{request.contextPath}/js/lib/mustache.min.js"></script>
		<script src="#{request.contextPath}/js/lib/moment.min.js"></script>
		<script src="#{request.contextPath}/js/lib/riloadr.min.js"></script>
		<script src="#{request.contextPath}/js/lib/riloadr.jquery.min.js"></script>
	</ui:define>

	<ui:define name="proxy">
		<script src="#{request.contextPath}/js/proxy/race.js"></script>
	</ui:define>

	<ui:define name="controller">
		<script src="#{request.contextPath}/js/controller/calendario.js"></script>
	</ui:define>

	<ui:define name="body">
		<div class="page-header">
			<h1>
				Calend√°rio <span id="ano">#{param.ano}</span>
			</h1>
		</div>
		<div id="open-races" class="row"></div>

		<div id="template" hidden="true">
			<div class="race col-md-4" id="block-{{id}}">
				<div class="panel panel-default" data-race="{{id}}" style="cursor: pointer;">
					<div class="panel-heading" style="padding: 0px;">
						<div class="box">
							<div class="corner">
								<span></span>
							</div>
							<div class="box">
								<div class="corner {{status}}">
									<span>{{corner}}</span>
								</div>
								<img id="banner-{{id}}" alt="{{name}}" class="responsive {{status}}"
									data-src="#{request.contextPath}/api/race/{{id}}/banner/{breakpoint-name}" />
							</div>
						</div>
					</div>
					<div class="panel-body" style="padding-top: 5px;">
						<div class="row">
							<div class="col-md-12 text-right">
								<h5 class="pull-left" style="margin-top: 10px; margin-bottom: 5px;">
									<span class="glyphicon glyphicon-calendar" style="font-size: 0.8em;"></span> {{date}}
								</h5>
								<h5 class="pull-right" style="margin-top: 10px; margin-bottom: 5px;">
									<span class="glyphicon glyphicon-map-marker" style="font-size: 0.8em;"></span> {{place}}
								</h5>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>
