<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="/template/main.xhtml">

	<ui:define name="meta-ogg">
		<meta property="og:title" content="#{eventHelper.getTitle(request)}" />
		<meta property="og:description" content="#{eventHelper.getDescription(request)}" />
		<meta property="og:image" content="#{applicationConfigHelper.getBaseUrl(request)}/api/event/#{param.slug}/banner" />
	</ui:define>

	<ui:define name="lib">
		<script src="#{request.contextPath}/js/lib/mustache.min.js"></script>
		<script src="#{request.contextPath}/js/lib/moment.min.js"></script>
		<script src="#{request.contextPath}/js/lib/numeral.min.js"></script>
		<script src="#{request.contextPath}/js/lib/pt-br.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js"></script>
	</ui:define>

	<ui:define name="proxy">
		<script src="#{request.contextPath}/js/proxy/event.js"></script>
	</ui:define>

	<ui:define name="controller">
		<script src="#{request.contextPath}/js/controller/evento.js"></script>
	</ui:define>

	<ui:define name="css">
		<link rel="stylesheet" href="#{request.contextPath}/css/evento.css" />
	</ui:define>

	<ui:define name="body">
		<div class="container-fluid event-banner-section">
			<div class="row text-center">
				<div class="col-md-12 event-banner text-center">
					<img id="banner" class="img-responsive center-block" />
				</div>
			</div>
		</div>

		<div class="container">
			<input id="id" type="hidden" value="#{param.evento_id}" />

			<div class="row">
				<div class="col-md-offset-2 col-md-8 left-col">
					<div class="row">
						<div class="col-md-12">
							<div class="event-info section-padding">
								<div class="row">
									<div class="col-md-12">
										<div>
											<span class="event-title"></span>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12">
										<span class="event-info-icon"> <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> <span id="event-location-city"></span></span>
										<span class="event-info-icon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> <span id="event-date"></span></span>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12 event-description section-padding">
									<div>
										<p class="event-description"></p>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div id="event-info" class="event-races"></div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div id="event-races" class="event-races"></div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="container-fluid event-map-section">
			<div class="container">
				<div class="row event-map-section">
					<div class="col-md-offset-2 col-md-8">
						<div id="map"></div>
					</div>
				</div>
			</div>
		</div>

		<div class="container-fluid event-organizers-section">
			<div class="container">
				<div class="row">
					<div class="col-md-offset-2 col-md-8 left-col">
						<div class="event-organizers-title section-padding">Organizadores</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12 event-organizers" hidden="true">
						<div id="event-organizers"></div>
					</div>
				</div>
			</div>
		</div>


		<div id="event-organizer-template" hidden="true">
			<div class="event-organizer col-md-3 section-padding">
				<div class="event-organizer-picture-parent">
					<img class="img-responsive event-organizer-picture" src="#{request.contextPath}/api/user/profile/{{id}}/picture" />
				</div>
				<div class="text-center">
					<div class="event-organizer-name">{{name}}</div>
					<div class="event-organizer-email">{{email}}</div>
					<div class="event-organizer-mobile">{{mobile}}</div>
				</div>
			</div>
		</div>

		<div id="event-race-template" hidden="true">
			<div class="row">
				<div class="event-race col-md-12 section-padding">
					<div class="row">
						<div class="col-md-8">
							<div class="calendar">
								<div class="month">{{month}}</div>
								<div class="day">{{day}}</div>
							</div>
							<div class="race-info">
								<div class="race-title">
									<span class="race-name">{{name}}</span>
								</div>
								<p class="race-description">{{description}}</p>
								<a data-toggle="collapse" href="#collapse-{{id}}" aria-expanded="false" aria-controls="collapse-{{id}}">Saiba mais</a>
							</div>
						</div>
						<div class="col-md-4">
							<div class="text-right race-registration {{status}}">
								<a class="col-xs-12 btn btn-lg btn-success" href="#{request.contextPath}/evento/#{param.evento_id}/{{id}}/inscricao">
									<div class="race-registration-icon">
										<span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>
									</div>
									<div class="text-left">
										<div>Inscreva-se</div>
										<div class='race-registration-price'>
											<span class="race-registration-hint">*</span>R$ {{current_period.price}} até {{current_period.end}}
										</div>
									</div>
								</a>
								<span class='race-registration-hint'>*preço por pessoa</span>
							</div>
						</div>
					</div>
					<div class="collapse" id="collapse-{{id}}">
						<div class="row event-race-detail">

							<!-- Esporte -->

							<div class="col-md-4">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">{{sport.name}}</h3>
									</div>
									<div class="panel-body">
										<ul class="event-race-list-info">
											<li>
												Data: {{period.beginning}}{{#more_than_one_day}}
												<small>à</small>
												{{period.end}}{{/more_than_one_day}}
											</li>
											<li>Distância: {{distance}} km</li>
										</ul>
									</div>
								</div>
							</div>

							<!-- Cateoria -->

							{{#categories.length}}
							<div class="col-md-4">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">Categoria</h3>
									</div>
									<div class="panel-body">
										<ul class="event-race-list-info">
											{{#categories}}
											<li>{{name}}</li>
											{{/categories}}
										</ul>
									</div>
								</div>
							</div>
							{{/categories.length}}

							<!-- Preço -->

							{{#prices.length}}
							<div class="col-md-4">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">Lote de inscrição</h3>
									</div>
									<div class="panel-body">
										<ul class="event-race-list-info">
											{{#prices}}
											<li>
												{{beginning}}
												<small>à</small>
												{{end}}: <span><sup>R$</sup> <strong>{{price}}</strong>*</span>
											</li>
											{{/prices}}
										</ul>
									</div>
								</div>
							</div>
							{{/prices.length}}

							<!-- Modalidade -->

							{{#modalities.length}}
							<div class="col-md-4">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">Modalidade</h3>
									</div>
									<div class="panel-body">
										<ul class="event-race-list-info">
											{{#modalities}}
											<li>{{name}}</li>
											{{/modalities}}
										</ul>
									</div>
								</div>
							</div>
							{{/modalities.length}}

							<!-- Campeonato -->

							{{#championships.length}}
							<div class="col-md-4">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">Campeonato</h3>
									</div>
									<div class="panel-body">
										<ul class="event-race-list-info">
											{{#championships}}
											<li>{{name}}</li>
											{{/championships}}
										</ul>
									</div>
								</div>
							</div>
							{{/championships.length}}
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>
