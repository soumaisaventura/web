<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="/template/main.xhtml">

	<ui:define name="meta-ogg">
		<meta property="og:title" content="#{eventHelper.getTitle(request)}" />
		<meta property="og:description" content="#{eventHelper.getDescription(request)}" />
		<meta property="og:image" content="#{applicationConfigHelper.getBaseUrl(request)}/api/event/#{param.slug}/banner" />
	</ui:define>

	<ui:define name="lib">
		<script src="#{request.contextPath}/js/lib/mustache.min.js"></script>
		<script src="#{request.contextPath}/js/lib/moment.min.js"></script>
		<script src="#{request.contextPath}/js/lib/numeral.min.js"></script>
		<script src="#{request.contextPath}/js/lib/pt-br.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js"></script>
	</ui:define>

	<ui:define name="proxy">
		<script src="#{request.contextPath}/js/proxy/event.js"></script>
	</ui:define>

	<ui:define name="controller">
		<script src="#{request.contextPath}/js/controller/evento.js"></script>
	</ui:define>

	<ui:define name="css">
		<link rel="stylesheet" href="#{request.contextPath}/css/evento.css" />
	</ui:define>

	<ui:define name="body">
		<input id="id" type="hidden" value="#{param.evento_id}" />

		<div class="row">
			<div class="col-md-8 left-col">
				<div class="row event-banner">
					<img id="banner" class="img-responsive" style="margin: 0 auto;" />
				</div>
				<div class="row">
					<div class="col-md-12 event-info">
						<div>
							<h1 class="event-title"></h1>
						</div>
						<div>
							<p class="event-description"></p>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div id="event-races" class="races"></div>
					</div>
				</div>
			</div>

			<div class="col-md-4 right-col">
				<div class="row">
					<div class="panel  panel-info ">
	  					<div class="panel-heading text-center">
	    					<h2>Faltam</h2>
							<h1 id="days-left"></h1>
							<h2>dias</h2>
	  					</div>
						<div class="panel-footer text-center">
							<h3>Período do Evento</h3>
							<h4 id="period"></h4>
						</div>
					</div>
				</div>
				
				<div class="row">
					<div class="panel panel-info">
	  					<div class="panel-heading text-center">
	    					<h2>Cidade Sede</h2>
	  					</div>
						<div class="panel-body text-center">
	  						<h3 id="event-location"></h3>
	  					</div>
						<div class="panel-footer event-map">
							<div id="map"></div>		
						</div>
					</div>
				</div>

				<div class="row">
					<div class="panel panel-info">
	  					<div class="panel-heading text-center">
	    					<h2>Organizadores</h2>
	  					</div>
						<div class="panel-body text-center">
							Foto e nome dos membros	  						
	  					</div>
					</div>
				</div>

			</div>
		</div>

		<div id="event-race-template" hidden="true">
			<div class="event-race col-md-12">
				<div class="row">
					<div class="col-md-2 text-center text-success">
						<h2>
							<div>{{day}}</div>
							<div class="month" style="font-size: 0.6em;">{{month}}</div>
						</h2>
					</div>
					<div class="col-md-7">
						<div class="row">
							<div class="col-md-12">
								<h3>
									<strong>{{name}}</strong>
								</h3>
								<p class="race-description">{{description}}</p>
								<a data-toggle="collapse" href="#collapse-{{id}}" aria-expanded="false" aria-controls="collapse-{{id}}">Saiba mais</a>
							</div>
						</div>
					</div>
					<div class="col-md-3 text-right text-success">
						<h3>
							<div>*R$ {{current_period.price}}</div>
							<div style="font-size: 0.6em;">até {{current_period.end}}</div>
						</h3>
						<!--
							-->
						<a class="col-xs-12 btn btn-lg btn-success" href="#{request.contextPath}/evento/#{param.evento_id}/{{id}}/inscricao">
							<span class='glyphicon glyphicon-pencil' aria-hidden='true' style='font-size: 0.8em;'></span> Inscreva-se
						</a>
					</div>
				</div>
				<div class="collapse" id="collapse-{{id}}">
					<div class="row event-race-detail">
						<div class="col-md-7 col-md-offset-2">
							<p>
								<strong>{{sport.name}}</strong>
							</p>
							<ul>
								<li>
									{{#modalities}}
									<img class="modality-icon" src="#{request.contextPath}/images/modalidade-{{id}}-icon-black.png" title="{{name}}" />
									{{/modalities}}
								</li>
								<li>{{distance}} km</li>
							</ul>
							<ul>
							</ul>
							<p>
								<strong>Data</strong>
							</p>
							<ul>
								<li>
									{{period.beginning}}{{#moreThanOneDay}}
									<small>à</small>
									{{period.end}}{{/moreThanOneDay}}
								</li>
							</ul>
							<p>
								<strong>Categoria</strong>
							</p>
							<ul>
								{{#categories}}
								<li>{{name}}</li>
								{{/categories}}
							</ul>
							{{#hasChampionship}}
							<p>
								<strong>Campeonato</strong>
							</p>
							<ul>
								{{#championships}}
								<li>{{name}}</li>
								{{/championships}}
							</ul>
							{{/hasChampionship}}
						</div>
						<div class="col-md-3 text-right">
							<p class="text-success">*preço por pessoa</p>
							{{#prices}}
							<div>
								{{beginning}}
								<small>à</small>
								{{end}}: <span><sup>R$</sup> <strong>{{price}}</strong>*</span>
							</div>
							{{/prices}}
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>