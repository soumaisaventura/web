<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets" template="/template/main.xhtml">

	<ui:define name="meta-ogg">
		<meta property="og:title" content="#{eventHelper.getTitle(request)}" />
		<meta property="og:description" content="#{eventHelper.getDescription(request)}" />
		<meta property="og:image" content="#{applicationConfigHelper.getBaseUrl(request)}/api/event/#{param.slug}/banner" />
	</ui:define>

	<ui:define name="lib">
		<script src="#{request.contextPath}/js/lib/mustache.min.js"></script>
		<script src="#{request.contextPath}/js/lib/moment.min.js"></script>
		<script src="#{request.contextPath}/js/lib/numeral.min.js"></script>
		<script src="#{request.contextPath}/js/lib/pt-br.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js"></script>
	</ui:define>

	<ui:define name="proxy">
		<script src="#{request.contextPath}/js/proxy/event.js"></script>
	</ui:define>

	<ui:define name="controller">
		<script src="#{request.contextPath}/js/controller/evento.js"></script>
	</ui:define>

	<ui:define name="css">
		<link rel="stylesheet" href="#{request.contextPath}/css/evento.css" />
	</ui:define>

	<ui:define name="body">
		<input id="id" type="hidden" value="#{param.evento_id}" />

		<div class="row">
			<div class="col-md-offset-2 col-md-8">
				<img id="banner" class="img-responsive center-block" />
			</div>
		</div>

		<div class="section-padding">
			<div class="row">
				<div class="col-md-offset-2 col-md-8">
					<div>
						<h1 id="title"></h1>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-offset-2 col-md-8">
					<span class="info-icon"> <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span> <span id="location-city"></span></span> <span
						class="info-icon"> <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span> <span id="date"></span></span>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-2 col-md-8 description">
				<div>
					<p id="description"></p>
				</div>
			</div>
		</div>

		<div id="races" class="races"></div>

		<div class="row">
			<div class="col-md-offset-2 col-md-8">
				<div class="title">Local</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-2 col-md-8">
				<div class="section-padding">
					<div id="map"></div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-2 col-md-8">
				<div class="title">Organizadores</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-offset-2 col-md-8 organizers" hidden="true">
				<div id="organizers"></div>
			</div>
		</div>

		<div id="organizer-template" hidden="true">
			<div class="organizer col-md-3 section-padding">
				<div class="organizer-picture-parent">
					<img class="img-responsive organizer-picture" src="#{request.contextPath}/api/user/profile/{{id}}/picture" />
				</div>
				<div class="text-center">
					<div class="organizer-name">{{name}}</div>
					<div class="organizer-email">{{email}}</div>
					<div class="organizer-mobile">{{mobile}}</div>
				</div>
			</div>
		</div>

		<div id="race-template" hidden="true">
			<div class="row">
				<div class="col-md-offset-2 col-md-8">
					<div class="race">
						<!-- 						<div class="row"> -->
						<div class="col-md-8">
							<div class="row">
								<div class="col-md-12">
									<div class="calendar">
										<div>{{month}}</div>
										<div>{{day}}</div>
									</div>
									<h2>{{name}}</h2>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<p class="race-description">{{description}}</p>
									<a data-toggle="collapse" href="#collapse-{{id}}" aria-expanded="false" aria-controls="collapse-{{id}}">Saiba mais</a>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="text-right race-registration">
								<a class="col-xs-12 btn btn-lg btn-success" href="#{request.contextPath}/evento/#{param.evento_id}/{{id}}/inscricao">
									<div class="race-registration-icon">
										<span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>
									</div>
									<div class="text-left">
										<div>Inscreva-se</div>
										<div class='race-registration-price'>
											<span class="race-registration-hint">*</span>R$ {{current_period.price}} até {{current_period.end}}
										</div>
									</div>
								</a>
								<span class='race-registration-hint'>*preço por pessoa</span>
							</div>
						</div>
						<!-- 						</div> -->
						<div class="collapse" id="collapse-{{id}}">
							<div class="row race-detail">

								<!-- Esporte -->

								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">{{sport.name}}</h3>
										</div>
										<div class="panel-body">
											<ul class="race-list-info">
												<li>
													Data: {{period.beginning}}{{#more_than_one_day}}
													<small>à</small>
													{{period.end}}{{/more_than_one_day}}
												</li>
												<li>Distância: {{distance}} km</li>
											</ul>
										</div>
									</div>
								</div>

								<!-- Cateoria -->

								{{#categories.length}}
								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Categoria</h3>
										</div>
										<div class="panel-body">
											<ul class="race-list-info">
												{{#categories}}
												<li>{{name}}</li>
												{{/categories}}
											</ul>
										</div>
									</div>
								</div>
								{{/categories.length}}

								<!-- Preço -->

								{{#prices.length}}
								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Lote de inscrição</h3>
										</div>
										<div class="panel-body">
											<ul class="race-list-info">
												{{#prices}}
												<li>
													{{beginning}}
													<small>à</small>
													{{end}}: <span><sup>R$</sup> <strong>{{price}}</strong>*</span>
												</li>
												{{/prices}}
											</ul>
										</div>
									</div>
								</div>
								{{/prices.length}}

								<!-- Modalidade -->

								{{#modalities.length}}
								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Modalidade</h3>
										</div>
										<div class="panel-body">
											<ul class="race-list-info">
												{{#modalities}}
												<li>{{name}}</li>
												{{/modalities}}
											</ul>
										</div>
									</div>
								</div>
								{{/modalities.length}}

								<!-- Campeonato -->

								{{#championships.length}}
								<div class="col-md-4">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Campeonato</h3>
										</div>
										<div class="panel-body">
											<ul class="race-list-info">
												{{#championships}}
												<li>{{name}}</li>
												{{/championships}}
											</ul>
										</div>
									</div>
								</div>
								{{/championships.length}}
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>

</ui:composition>
